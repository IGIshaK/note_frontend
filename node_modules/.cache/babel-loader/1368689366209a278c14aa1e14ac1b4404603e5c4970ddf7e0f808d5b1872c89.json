{"ast":null,"code":"import React,{useState}from\"react\";import NoteContext from\"./NoteCotext\";import{jsx as _jsx}from\"react/jsx-runtime\";const NoteState=props=>{//host Name\nconst host=\"http://localhost:5000\";const[allNote,setAllnote]=useState([]);const[LoggedUser,setLoggedUser]=useState(false);// ==>  Api 1 Fetch all not for spacific user\nconst getAllNotes=async()=>{const response=await fetch(\"\".concat(host,\"/api/note/fetchallnotes\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"token\":localStorage.getItem(\"token\")}});const json=await response.json();// console.log( json );\nsetAllnote(json);};// ==> API - 2 add new Note\nconst addNote=async(title,description,tag)=>{const response=await fetch(\"\".concat(host,\"/api/note/addnote\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"token\":localStorage.getItem(\"token\")},body:JSON.stringify({title,description,tag})});const json=await response.json();console.log(json);// return response.json();\n};// API 3 = Delete specific Note\nconst deletNote=async id=>{// Api call\nconst response=await fetch(\"\".concat(host,\"/api/note/deletenote/\").concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"token\":localStorage.getItem(\"token\")}});// DELET logic\nconst newNote=allNote.filter(single=>{return single._id!==id;});setAllnote(newNote);const json=await response.json();console.log(json);};// API - 4 All note Delete spacific user\nconst deleteALLNote=async()=>{const response=await fetch(\"\".concat(host,\"/api/note/deleteallnotes\"),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"token\":localStorage.getItem(\"token\")}});const json=await response.json();console.log(json);getAllNotes();};// API - 5 update note\nconst updateNote=async note=>{const response=await fetch(\"\".concat(host,\"/api/note/updatenote/\").concat(note.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",\"token\":localStorage.getItem(\"token\")},body:JSON.stringify({title:note.title,description:note.description,tag:note.tag})});const json=await response.json();console.log(json);getAllNotes();};return/*#__PURE__*/_jsx(NoteContext.Provider,{value:{LoggedUser,setLoggedUser,allNote,setAllnote,getAllNotes,addNote,deletNote,deleteALLNote,updateNote},children:props.children});};export default NoteState;","map":{"version":3,"names":["React","useState","NoteContext","jsx","_jsx","NoteState","props","host","allNote","setAllnote","LoggedUser","setLoggedUser","getAllNotes","response","fetch","concat","method","headers","localStorage","getItem","json","addNote","title","description","tag","body","JSON","stringify","console","log","deletNote","id","newNote","filter","single","_id","deleteALLNote","updateNote","note","Provider","value","children"],"sources":["C:/Users/admin/Desktop/Notes/my_note/src/Context/NoteState.js"],"sourcesContent":["import React,{ useState } from \"react\";\r\nimport NoteContext from \"./NoteCotext\";\r\n\r\nconst NoteState = (props) => {\r\n\r\n    //host Name\r\n    const host = \"http://localhost:5000\";\r\n\r\n    const [allNote, setAllnote] = useState([]);\r\n    const [LoggedUser, setLoggedUser] = useState(false);\r\n\r\n\r\n    // ==>  Api 1 Fetch all not for spacific user\r\n\r\n      const getAllNotes = async () => {\r\n\r\n        const response = await fetch(`${host}/api/note/fetchallnotes`, {\r\n              method: \"GET\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"token\" : localStorage.getItem(\"token\")\r\n                }\r\n            });\r\n            const json = await response.json();\r\n            // console.log( json );\r\n            setAllnote( json );\r\n      }\r\n      \r\n\r\n      // ==> API - 2 add new Note\r\n\r\n          \r\n      const addNote = async ( title, description, tag ) => {\r\n          const response = await fetch(`${host}/api/note/addnote`, {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              \"token\" : localStorage.getItem(\"token\")\r\n            },\r\n            body: JSON.stringify({ title , description , tag })\r\n          });\r\n          const json = await response.json();\r\n          console.log(json)\r\n          // return response.json();\r\n      }\r\n\r\n\r\n      // API 3 = Delete specific Note\r\n\r\n    const deletNote = async (id) => {\r\n          \r\n      // Api call\r\n      const response = await fetch(`${host}/api/note/deletenote/${id}`, {\r\n          method: \"DELETE\",\r\n          headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              \"token\" : localStorage.getItem(\"token\")\r\n            },\r\n          });\r\n\r\n        // DELET logic\r\n        const newNote = allNote.filter((single) => { return single._id !== id})\r\n        setAllnote(newNote);\r\n\r\n        const json = await response.json();\r\n        console.log(json)\r\n    }\r\n\r\n\r\n    // API - 4 All note Delete spacific user\r\n\r\n    const deleteALLNote = async () => {\r\n          \r\n      const response = await fetch(`${host}/api/note/deleteallnotes`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n           \"Content-Type\": \"application/json\",\r\n           \"token\" : localStorage.getItem(\"token\")\r\n          }\r\n      });\r\n      const json = await response.json();\r\n      console.log( json );\r\n   \r\n         \r\n      getAllNotes();\r\n \r\n    }\r\n     \r\n   \r\n    // API - 5 update note\r\n\r\n    const updateNote = async ( note ) => {\r\n\r\n      const response = await fetch(`${host}/api/note/updatenote/${note.id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"token\" : localStorage.getItem(\"token\")\r\n        },\r\n        body: JSON.stringify({ title:note.title , description:note.description , tag:note.tag })\r\n\r\n      });\r\n\r\n      const json = await response.json();\r\n      console.log(json)\r\n     \r\n      getAllNotes();\r\n    }\r\n\r\n    return(\r\n        <NoteContext.Provider value={ {LoggedUser, setLoggedUser, allNote , setAllnote , getAllNotes , addNote , deletNote , deleteALLNote , updateNote}}>\r\n            {props.children}\r\n        </NoteContext.Provider>\r\n    )\r\n}\r\n\r\nexport default NoteState;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAQ,OAAO,CACtC,MAAO,CAAAC,WAAW,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvC,KAAM,CAAAC,SAAS,CAAIC,KAAK,EAAK,CAEzB;AACA,KAAM,CAAAC,IAAI,CAAG,uBAAuB,CAEpC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACS,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAGnD;AAEE,KAAM,CAAAW,WAAW,CAAG,KAAAA,CAAA,GAAY,CAE9B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIR,IAAI,4BAA2B,CACzDS,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,OAAO,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CACtC,CACJ,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClC;AACAX,UAAU,CAAEW,IAAK,CAAC,CACxB,CAAC,CAGD;AAGA,KAAM,CAAAC,OAAO,CAAG,KAAAA,CAAQC,KAAK,CAAEC,WAAW,CAAEC,GAAG,GAAM,CACjD,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIR,IAAI,sBAAqB,CACvDS,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,OAAO,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CACxC,CAAC,CACDM,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEL,KAAK,CAAGC,WAAW,CAAGC,GAAI,CAAC,CACpD,CAAC,CAAC,CACF,KAAM,CAAAJ,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCQ,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC,CACjB;AACJ,CAAC,CAGD;AAEF,KAAM,CAAAU,SAAS,CAAG,KAAO,CAAAC,EAAE,EAAK,CAE9B;AACA,KAAM,CAAAlB,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIR,IAAI,0BAAAQ,MAAA,CAAwBgB,EAAE,EAAI,CAC9Df,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,OAAO,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CACxC,CACF,CAAC,CAAC,CAEJ;AACA,KAAM,CAAAa,OAAO,CAAGxB,OAAO,CAACyB,MAAM,CAAEC,MAAM,EAAK,CAAE,MAAO,CAAAA,MAAM,CAACC,GAAG,GAAKJ,EAAE,EAAC,CAAC,CACvEtB,UAAU,CAACuB,OAAO,CAAC,CAEnB,KAAM,CAAAZ,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCQ,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC,CACrB,CAAC,CAGD;AAEA,KAAM,CAAAgB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAEhC,KAAM,CAAAvB,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIR,IAAI,6BAA4B,CAC9DS,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACN,cAAc,CAAE,kBAAkB,CAClC,OAAO,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CACvC,CACJ,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCQ,OAAO,CAACC,GAAG,CAAET,IAAK,CAAC,CAGnBR,WAAW,CAAC,CAAC,CAEf,CAAC,CAGD;AAEA,KAAM,CAAAyB,UAAU,CAAG,KAAQ,CAAAC,IAAI,EAAM,CAEnC,KAAM,CAAAzB,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIR,IAAI,0BAAAQ,MAAA,CAAwBuB,IAAI,CAACP,EAAE,EAAI,CACrEf,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,OAAO,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CACxC,CAAC,CACDM,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEL,KAAK,CAACgB,IAAI,CAAChB,KAAK,CAAGC,WAAW,CAACe,IAAI,CAACf,WAAW,CAAGC,GAAG,CAACc,IAAI,CAACd,GAAI,CAAC,CAEzF,CAAC,CAAC,CAEF,KAAM,CAAAJ,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCQ,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC,CAEjBR,WAAW,CAAC,CAAC,CACf,CAAC,CAED,mBACIR,IAAA,CAACF,WAAW,CAACqC,QAAQ,EAACC,KAAK,CAAG,CAAC9B,UAAU,CAAEC,aAAa,CAAEH,OAAO,CAAGC,UAAU,CAAGG,WAAW,CAAGS,OAAO,CAAGS,SAAS,CAAGM,aAAa,CAAGC,UAAU,CAAE,CAAAI,QAAA,CAC5InC,KAAK,CAACmC,QAAQ,CACG,CAAC,CAE/B,CAAC,CAED,cAAe,CAAApC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}