{"ast":null,"code":"import React,{useContext,useState,useRef}from'react';import Header from'./Header';import NoteContext from'../Context/NoteCotext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Register(props){// alert\nconst{showAlert}=props;// blank\nconst[user,setUser]=useState({name:\"\",email:\"\",password:\"\"});// create refBtn\nconst refBtn=useRef('');// context data\nlet data=useContext(NoteContext);const{setLoggedUser}=data;//create navigate\nconst navigate=useNavigate('');// click on login button\nconst handleClick=async e=>{e.preventDefault();refBtn.current.setAttribute('disabled','true');showAlert(\"plese wait...\",\"warning\");// API call\nconst host=\"http://localhost:5000\";const response=await fetch(\"\".concat(host,\"/api/user/create\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:user.name,email:user.email,password:user.password})});const json=await response.json();console.log(json);if(json.flag){// save token and save state and then rederect ti view note\nlocalStorage.setItem('token',json.token);setLoggedUser(true);navigate(\"/View-Note\");showAlert(\"Registration successfully...\",\"success\");refBtn.current.removeAttribute('disabled');}else{showAlert(\"Invelid Email or password\",\"danger\");refBtn.current.removeAttribute('disabled');}};// chenge form data\nconst onChenge=e=>{setUser({...user,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{title:\"Register\",desc:\"If you dont'have account then register here.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row my-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-6 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleClick,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",name:\"name\",onChange:onChenge,value:user.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",name:\"email\",onChange:onChenge,value:user.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",name:\"password\",onChange:onChenge,value:user.password})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{ref:refBtn,disabled:user.name.length<3||user.email.length<5||user.password.length<5,className:\"btn btn-primary\",type:\"submit\",children:\"Register\"})})]})})})})})})]});}","map":{"version":3,"names":["React","useContext","useState","useRef","Header","NoteContext","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","props","showAlert","user","setUser","name","email","password","refBtn","data","setLoggedUser","navigate","handleClick","e","preventDefault","current","setAttribute","host","response","fetch","concat","method","headers","body","JSON","stringify","json","console","log","flag","localStorage","setItem","token","removeAttribute","onChenge","target","value","children","title","desc","className","onSubmit","htmlFor","type","id","onChange","ref","disabled","length"],"sources":["C:/Users/admin/Desktop/Notes/my_note/src/Components/Register.js"],"sourcesContent":["import React,{ useContext , useState, useRef}  from 'react'\r\nimport Header from './Header'\r\nimport NoteContext from '../Context/NoteCotext'\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Register(props) {\r\n\r\n  // alert\r\nconst {showAlert} = props;\r\n\r\n  // blank\r\n  const [user, setUser] = useState({name:\"\",  email:\"\", password:\"\"});\r\n\r\n  // create refBtn\r\n  const refBtn = useRef('');\r\n\r\n  // context data\r\n  let data = useContext(NoteContext);\r\n  const {setLoggedUser} = data;\r\n\r\n  //create navigate\r\n  const navigate = useNavigate('');\r\n\r\n\r\n  // click on login button\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n\r\n    refBtn.current.setAttribute('disabled', 'true');\r\n    showAlert(\"plese wait...\" , \"warning\")\r\n    \r\n\r\n    // API call\r\n      const host = \"http://localhost:5000\";\r\n      const response = await fetch(`${host}/api/user/create`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ name:user.name, email:user.email , password:user.password })\r\n\r\n      });\r\n\r\n      const json = await response.json();\r\n      console.log(json)\r\n     \r\n      if(json.flag){\r\n        // save token and save state and then rederect ti view note\r\n        localStorage.setItem('token', json.token);\r\n        setLoggedUser(true);\r\n        navigate(\"/View-Note\");\r\n        showAlert(\"Registration successfully...\" , \"success\")\r\n        refBtn.current.removeAttribute('disabled');\r\n        \r\n      }\r\n      else{\r\n        showAlert(\"Invelid Email or password\",\"danger\");\r\n        refBtn.current.removeAttribute('disabled');\r\n      }\r\n  };\r\n\r\n  // chenge form data\r\n  const onChenge = (e) =>{\r\n    setUser({...user,[e.target.name]:e.target.value})\r\n  }\r\n\r\n  return (\r\n    <>\r\n        <Header title=\"Register\" desc=\"If you dont'have account then register here.\" />\r\n      \r\n        <div className=\"container\">\r\n        <div className=\"row my-4\">\r\n          <div className=\"col-6 mx-auto\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n              <form onSubmit={handleClick}>\r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Name</label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" name=\"name\" onChange={onChenge} value={user.name}/>\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" name=\"email\" onChange={onChenge} value={user.email}/>\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\r\n                    <input type=\"password\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" name=\"password\" onChange={onChenge} value={user.password}/>\r\n                  </div>\r\n                  <div className=\"d-grid gap-2\">\r\n                      <button ref={refBtn} disabled={user.name.length < 3 || user.email.length < 5 || user.password.length < 5} className=\"btn btn-primary\" type=\"submit\">Register</button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}